---
title: Heap Sort
date: 2020-07-22 23:27:28
tags:
- Data Structure
- Algorithm
---

Heap Sort

```java
public static void heapSort(int[] arr) {
    int temp;

    for (int i = arr.length / 2 - 1; i >= 0 ; i--) {
        adjust(arr, i, arr.length);
    }
    //完成上面的for循環後，會得到一個大頂堆

    for (int j = arr.length - 1; j > 0 ; j--) {
        //最前和最後的元素進行交換
        temp = arr[j];
        arr[j] = arr[0];
        arr[0] = temp;
        adjust(arr, 0, j);
    }
}

public static void adjust(int[] arr, int i, int length) {
    int temp = arr[i]; //先保存i節點的值

    //k是i節點的左子節點的下標
    for(int k = i * 2 + 1; k < length; k = k * 2 + 1) {
        if(k + 1 < length && arr[k] < arr[k + 1]) { //比較左右子節點的值，如果右子節點的值較大，將k指向右子節點
            k++;
        }
        if(arr[k] > temp) { //如果子節點的值大於父節點
            arr[i] = arr[k]; //將子節點的值賦給父節點
            i = k; //將父節點i指向子節點k
        } else {
            break;
        }
    }

    arr[i] = temp; //i的位置可能有變動，將最初i節點的值賦給新的i節點
}
```

